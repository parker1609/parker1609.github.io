<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Java 11 vs Java 17 | Parker Blog</title><meta name=keywords content="java11,java17"><meta name=description content="1. 지원기간 https://www.oracle.com/java/technologies/java-se-support-roadmap.html
자바 11버전은 최대 2026년 9월까지 지원 자바 17버전은 최대 2029년 9월까지 지원 2. Java 11 VS 17, 주요 변경사항 아래 예제 코드의 전체는 https://github.com/programming-starter/java-17-starter 이 링크에서 확인할 수 있습니다.
Text Blocks 문자열을 좀 더 읽기 좋게 표현할 수 있게 되었다. 특히 JSON과 같은 문자열을 표현할 때, 예전에는 다음과 같이 표현해야 했다.
{ &#34;name&#34;: &#34;parker&#34;, &#34;age&#34;: 30, &#34;job&#34;: &#34;Programmer&#34; } @Test void old_style() { var json = &#34;{\n&#34; + &#34; \&#34;name\&#34;: \&#34;parker\&#34;,\n&#34; + &#34; \&#34;age\&#34;: 30,\n&#34; + &#34; \&#34;job\&#34;: \&#34;Programmer\&#34;\n&#34; + &#34;}&#34;; System."><meta name=author content="parker1609"><link rel=canonical href=https://parker1609.github.io/post/java-11-vs-java-17/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://parker1609.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://parker1609.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://parker1609.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://parker1609.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://parker1609.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Java 11 vs Java 17"><meta property="og:description" content="1. 지원기간 https://www.oracle.com/java/technologies/java-se-support-roadmap.html
자바 11버전은 최대 2026년 9월까지 지원 자바 17버전은 최대 2029년 9월까지 지원 2. Java 11 VS 17, 주요 변경사항 아래 예제 코드의 전체는 https://github.com/programming-starter/java-17-starter 이 링크에서 확인할 수 있습니다.
Text Blocks 문자열을 좀 더 읽기 좋게 표현할 수 있게 되었다. 특히 JSON과 같은 문자열을 표현할 때, 예전에는 다음과 같이 표현해야 했다.
{ &#34;name&#34;: &#34;parker&#34;, &#34;age&#34;: 30, &#34;job&#34;: &#34;Programmer&#34; } @Test void old_style() { var json = &#34;{\n&#34; + &#34; \&#34;name\&#34;: \&#34;parker\&#34;,\n&#34; + &#34; \&#34;age\&#34;: 30,\n&#34; + &#34; \&#34;job\&#34;: \&#34;Programmer\&#34;\n&#34; + &#34;}&#34;; System."><meta property="og:type" content="article"><meta property="og:url" content="https://parker1609.github.io/post/java-11-vs-java-17/"><meta property="og:image" content="https://parker1609.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-02-24T11:53:53+09:00"><meta property="article:modified_time" content="2023-02-24T11:53:53+09:00"><meta property="og:site_name" content="Parker Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://parker1609.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Java 11 vs Java 17"><meta name=twitter:description content="1. 지원기간 https://www.oracle.com/java/technologies/java-se-support-roadmap.html
자바 11버전은 최대 2026년 9월까지 지원 자바 17버전은 최대 2029년 9월까지 지원 2. Java 11 VS 17, 주요 변경사항 아래 예제 코드의 전체는 https://github.com/programming-starter/java-17-starter 이 링크에서 확인할 수 있습니다.
Text Blocks 문자열을 좀 더 읽기 좋게 표현할 수 있게 되었다. 특히 JSON과 같은 문자열을 표현할 때, 예전에는 다음과 같이 표현해야 했다.
{ &#34;name&#34;: &#34;parker&#34;, &#34;age&#34;: 30, &#34;job&#34;: &#34;Programmer&#34; } @Test void old_style() { var json = &#34;{\n&#34; + &#34; \&#34;name\&#34;: \&#34;parker\&#34;,\n&#34; + &#34; \&#34;age\&#34;: 30,\n&#34; + &#34; \&#34;job\&#34;: \&#34;Programmer\&#34;\n&#34; + &#34;}&#34;; System."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://parker1609.github.io/post/"},{"@type":"ListItem","position":2,"name":"Java 11 vs Java 17","item":"https://parker1609.github.io/post/java-11-vs-java-17/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Java 11 vs Java 17","name":"Java 11 vs Java 17","description":"1. 지원기간 https://www.oracle.com/java/technologies/java-se-support-roadmap.html\n자바 11버전은 최대 2026년 9월까지 지원 자바 17버전은 최대 2029년 9월까지 지원 2. Java 11 VS 17, 주요 변경사항 아래 예제 코드의 전체는 https://github.com/programming-starter/java-17-starter 이 링크에서 확인할 수 있습니다.\nText Blocks 문자열을 좀 더 읽기 좋게 표현할 수 있게 되었다. 특히 JSON과 같은 문자열을 표현할 때, 예전에는 다음과 같이 표현해야 했다.\n{ \u0026#34;name\u0026#34;: \u0026#34;parker\u0026#34;, \u0026#34;age\u0026#34;: 30, \u0026#34;job\u0026#34;: \u0026#34;Programmer\u0026#34; } @Test void old_style() { var json = \u0026#34;{\\n\u0026#34; + \u0026#34; \\\u0026#34;name\\\u0026#34;: \\\u0026#34;parker\\\u0026#34;,\\n\u0026#34; + \u0026#34; \\\u0026#34;age\\\u0026#34;: 30,\\n\u0026#34; + \u0026#34; \\\u0026#34;job\\\u0026#34;: \\\u0026#34;Programmer\\\u0026#34;\\n\u0026#34; + \u0026#34;}\u0026#34;; System.","keywords":["java11, java17"],"articleBody":"1. 지원기간 https://www.oracle.com/java/technologies/java-se-support-roadmap.html\n자바 11버전은 최대 2026년 9월까지 지원 자바 17버전은 최대 2029년 9월까지 지원 2. Java 11 VS 17, 주요 변경사항 아래 예제 코드의 전체는 https://github.com/programming-starter/java-17-starter 이 링크에서 확인할 수 있습니다.\nText Blocks 문자열을 좀 더 읽기 좋게 표현할 수 있게 되었다. 특히 JSON과 같은 문자열을 표현할 때, 예전에는 다음과 같이 표현해야 했다.\n{ \"name\": \"parker\", \"age\": 30, \"job\": \"Programmer\" } @Test void old_style() { var json = \"{\\n\" + \" \\\"name\\\": \\\"parker\\\",\\n\" + \" \\\"age\\\": 30,\\n\" + \" \\\"job\\\": \\\"Programmer\\\"\\n\" + \"}\"; System.out.println(json); } 줄바꿈 표시 ‘\\n’ 과 문자열을 합치는 ‘+’ 등 여러 보기에 불필요한 표현을 추가해야 한다.\n하지만, Text Blocks를 사용하면 다음과 같이 매우 간단하고 읽기 편하게 표현할 수 있다.\n@Test void new_style() { var json = \"\"\" { \"name\": \"parker\", \"age\": 30, \"job\": \"Programmer\" } \"\"\"; System.out.println(json); } Text Blocks는 3개의 쌍따옴표를 사용한다. 이를 양쪽에 선언하고 그 안에 필요한 문자열을 표현한다. 위는 old_style 테스트와 같은 문자열 결과를 가져온다.\n사용할 때, 한 가지 유의해야할 점은 전체 문자열 앞의 공백을 다루는 방법이다.\n....{ .... \"name\": \"parker\", .... \"age\": 30, .... \"job\": \"Programmer\" ....} 위 처럼 Text Blocks에 선언한 문자열 전체 앞에 공백을 두고 싶다고 가정해보자. (위는 공백을 ‘.’으로 대신 표현하였음.)\n이 경우 Text Blocks에서는 마지막 3개의 쌍따옴표를 기준으로 공백을 표현할 수 있도록 해준다.\n@Test void new_style_how_to_make_space() { var json = \"\"\" { \"name\": \"parker\", \"age\": 30, \"job\": \"Programmer\" } \"\"\"; System.out.print(json); System.out.println(\"공백\"); } 위 코드를 보면 마지막 3개의 쌍따옴표를 기준으로 JSON 표현이 앞 쪽으로 좀 더 밀려나서 공백을 만들었다. 위 테스트 코드를 실행하면, 다음과 같이 공백이 만들어진 것을 확인할 수 있다.\n{ \"name\": \"parker\", \"age\": 30, \"job\": \"Programmer\" } 공백 여기서, 주의할 점은 마지막 3개의 쌍따옴표가 기준이 된다는 점이다. 처음 선언한 3개의 쌍따옴표는 영향을 주지 않는다.\n@Test void new_style_how_to_make_space() { var json = \"\"\" { \"name\": \"parker\", \"age\": 30, \"job\": \"Programmer\" } \"\"\"; System.out.print(json); System.out.println(\"공백\"); } 위를 실행하면 전혀 공백이 생기지 않는 것을 확인할 수 있다.\nSwitch Expressions 기존의 switch 문은 정상적으로 동작시키기 위해서는 break 문이 필수로 필요하였다. 이는 실수할 여지가 있었고, “{}” 도 없이 여러 줄이 있다보니 개인적으로 문법상 일관성이 없어서 헷갈릴 때가 종종 있었다.\n@Test void old_style() { Food food = Food.BUL_GOGI; switch(food) { case KIMCHI, BUL_GOGI, BIBIMBAP: System.out.println(\"Korea Food\"); break; case SUSHI, RAMEN: System.out.println(\"Japan Food\"); break; case PAD_THAI, NASI_GORENG: System.out.println(\"Thailand Food\"); break; default: System.out.println(\"I don't know\"); } } 위를 수행하면 정상적으로 아래 결과가 나올 것이다.\nKorea Food 그런데 만약 실수로 break 문을 생략한다면 다음과 같은 예상하지 못한 결과를 볼 수 있다.\nKorea Food Japan Food Thailand Food I don't know case 문에 정상적으로 진입하여 로직을 수행한 후, 빠져나가야하는데 break 문이 없어서 그 아래 case도 모두 실행되는 모습이다.\n일본 음식으로 하면 아래와 같이 결과가 나올 것이다.\nJapan Food Thailand Food I don't know 자바 17 버전에서는 break 문을 전혀 사용하지 않아도 되도록 변경되었다. 그리고 “{}”를 사용하지 않는 불규칙적인 문법도 없앴다.\n@Test void new_style() { Food food = Food.BUL_GOGI; switch (food) { case KIMCHI, BUL_GOGI, BIBIMBAP -\u003e System.out.println(\"Korea Food\"); case SUSHI, RAMEN -\u003e System.out.println(\"Japan Food\"); case PAD_THAI, NASI_GORENG -\u003e System.out.println(\"Thailand Food\"); default -\u003e System.out.println(\"I don't know\"); } } Korea Food 위는 old_style 테스트를 그대로 변경된 switch 표현식으로 나타낸 모습이다. ‘→’ 키워드를 통해 람다식으로 익숙한 문법 표현을 사용하였고, break 문도 필요없어서 단순하고 읽기 좋아졌다.\n만약, switch 문 결과를 반환값으로 사용한다면 다음과 같이 구현할 수 있다.\n@Test void new_style_return() { Food food = Food.BUL_GOGI; String result = switch (food) { case KIMCHI, BUL_GOGI, BIBIMBAP -\u003e \"Korea Food\"; case SUSHI, RAMEN -\u003e \"Japan Food\"; case PAD_THAI, NASI_GORENG -\u003e \"Thailand Food\"; default -\u003e \"I don't know\"; }; System.out.println(result); } Korea Food case 문 안에 여러 개의 로직을 구현하고 싶은 경우는 다음과 같이 일관된 “{}”를 사용할 수 있다. 그에 더해 새로운 키워드인 yield 라는 키워드로 반환값을 나타내야 한다.\n@Test void new_style_multiple_login_in_case() { Food food = Food.BUL_GOGI; String result = switch (food) { case KIMCHI, BUL_GOGI, BIBIMBAP -\u003e { System.out.println(\"current food: \" + food); yield \"Korea Food\"; } case SUSHI, RAMEN -\u003e { System.out.println(\"current food: \" + food); yield \"Japan Food\"; } case PAD_THAI, NASI_GORENG -\u003e { System.out.println(\"current food: \" + food); yield \"Thailand Food\"; } default -\u003e { System.out.println(\"invalid food: \" + food); yield \"I don't know\"; } }; System.out.println(result); } current food: BUL_GOGI Korea Food yield 키워드만을 사용해서 반환값을 나타낼 수도 있다.\n@Test void new_style_only_using_yield() { Food food = Food.BUL_GOGI; String result = switch (food) { case KIMCHI, BUL_GOGI, BIBIMBAP: yield \"Korea Food\"; case SUSHI, RAMEN: yield \"Japan Food\"; case PAD_THAI, NASI_GORENG: yield \"Thailand Food\"; default: yield \"I don't know\"; }; System.out.println(result); } Korea Food Records Records는 **변경불가능한 데이터 클래스(흔히, Value Object(VO)라고 불림)**를 간단하게 만들 수 있도록 도와주는 문법이다. 특히, 클래스를 생성하기 위해 필요했던 생성자, getters, hashCode, equals, toString 등 반복적인 작업을 할 필요 없도록 편의성을 제공해주고 있다. (Lombok으로 이를 대체했지만, 이제는 Lombok 의존성도 필요하지 않을 수 있다.)\n예를 들어, x 좌표와 y 좌표를 갖는 Point 객체를 만들어보자. 기본 클래스를 사용한다면 아래와 같이 구현할 수 있다.\npublic class PointClass { private final int x; private final int y; public PointClass(int x, int y) { this.x = x; this.y = y; } public int getX() { return x; } public int getY() { return y; } @Override public boolean equals(Object o) { if (this == o) return true; if (o == null || getClass() != o.getClass()) return false; PointClass point = (PointClass) o; return x == point.x \u0026\u0026 y == point.y; } @Override public int hashCode() { return Objects.hash(x, y); } @Override public String toString() { return \"Point{\" + \"x=\" + x + \", y=\" + y + '}'; } } x, y 필드는 final로 불변하도록 만들었다. 생성자, getters, equals, hashCode, toString 을 선언해주었다. PointClass 를 확인하기 위한 간단한 테스트 코드를 작성해보자.\n@Test void old_style() { PointClass point1 = new PointClass(0, 0); PointClass point2 = new PointClass(1, 1); System.out.println(\"point1 = \" + point1); System.out.println(\"point2 = \" + point2); System.out.println(\"Point 1 equals point 2? \" + point1.equals(point2)); PointClass pointCopy = new PointClass(point1.getX(), point1.getY()); System.out.println(\"Point 1 equals its copy? \" + point1.equals(pointCopy)); } point1 = Point{x=0, y=0} point2 = Point{x=1, y=1} Point 1 equals point 2? false Point 1 equals its copy? true Record를 사용해서 Point를 만들어보자.\npublic record PointRecord(int x, int y) { } PointClass 에 비해 매우 간단히 나타낼 수 있다.\n@Test void new_style() { PointRecord point1 = new PointRecord(0, 0); PointRecord point2 = new PointRecord(1, 1); System.out.println(\"point1 = \" + point1); System.out.println(\"point2 = \" + point2); System.out.println(\"Point 1 equals point 2? \" + point1.equals(point2)); PointRecord pointCopy = new PointRecord(point1.x(), point1.y()); System.out.println(\"Point 1 equals its copy? \" + point1.equals(pointCopy)); } 위 테스트 코드를 실행하면, PointClass 테스트와 동일한 결과를 볼 수 있다.\nRecord도 생성자를 직접 구현할 수 있고, 여기서 파라미터에 대해 유효성 검사를 수행할 수 있다. 그리고 생성자 내에서는 Record의 필드들은 null 또는 초기값으로 세팅되어 있다.\npublic record Triangle(PointRecord p1, PointRecord p2, PointRecord p3) { public Triangle { System.out.println(\"Parameter p1=\" + p1 + \", Field p1=\" + this.p1()); System.out.println(\"Parameter p2=\" + p2 + \", Field p2=\" + this.p2()); System.out.println(\"Parameter p3=\" + p3 + \", Field p3=\" + this.p3()); } } 삼각형 Triangle 레코드는 3개의 Point 레코드를 필드로 갖고 있다. @Test void record_validation_constructor() { Triangle triangle = new Triangle( new PointRecord(0, 0), new PointRecord(5, 5), new PointRecord(10, 0) ); System.out.println(\"triangle = \" + triangle); } Parameter p1=PointRecord[x=0, y=0], Field p1=null Parameter p2=PointRecord[x=5, y=5], Field p2=null Parameter p3=PointRecord[x=10, y=0], Field p3=null triangle = Triangle[p1=PointRecord[x=0, y=0], p2=PointRecord[x=5, y=5], p3=PointRecord[x=10, y=0]] Triangle 레코드를 생성할 때, Field는 모두 null 값으로 세팅되어 있는 것을 볼 수 있다.\nRecord의 또 다른 유용한 점은 로컬에서도 사용할 수 있다는 점이다.\n@Test void local_record_point() { List\u003cInteger\u003e xList = List.of(0, 1, 2, 3, 5); List\u003cInteger\u003e yList = List.of(0, 1, 2, 3, 5); record Point(int x, int y) { } for (int i = 0; i \u003c xList.size(); i++) { Point point = new Point(xList.get(i), yList.get(i)); System.out.println(\"point = \" + point); } } point = Point[x=0, y=0] point = Point[x=1, y=1] point = Point[x=2, y=2] point = Point[x=3, y=3] point = Point[x=5, y=5] Sealed Classes sealed 키워드는 class와 interface에 선언할 수 있는 키워드이며, 상속 또는 구현하는 것을 제한하는 키워드이다.\nsealed 키워드의 사용법과 특징은 다음과 같다.\nsealed 키워드가 선언된 상위 클래스와 이를 상속 또는 구현하는 하위 클래스는 모두 같은 모듈 또는 같은 패키지에 위치해야 한다. sealed 키워드가 선언된 상위 클래스는 permits 키워드로 자신을 상속 또는 구현하는 하위 클래스를 선언해야 한다. sealed 키워드가 선언된 상위 클래스를 상속 또는 구현하는 하위 클래스는 final / sealed / non-sealed 셋 중 하나의 키워드를 반드시 선언해야 한다. final : 해당 클래스는 더이상 상속 또는 구현할 수 없다. sealed : 자신을 상속 또는 구현할 클래스를 지정할 수 있다. non-sealed : 해당 클래스는 자유롭게 상속 또는 구현할 수 있다. 위를 지키지 않으면, 컴파일 에러가 발생한다.\npackage me.parker.sealedclasses; // 최상위 Shape 클래스 public abstract sealed class Shape permits Circle, Rectangle, Square, WeirdShape { } Shape 클래스는 추상 클래스로 sealed 키워드를 선언하였고, 자신을 상속할 수 있는 클래스들을 permits 키워드로 선언하였다.\n먼저, Shape 클래스를 상속한 후, 더이상 다른 클래스가 상속할 수 없도록 final 키워드를 선언한 예시를 보자.\npackage me.parker.sealedclasses; public final class Circle extends Shape { } 같은 패키지안에 있어야 한다는 것을 주의하자. Circle 클래스는 이제 더이상 상속할 수 없는 클래스이다.\n두 번째로, sealed 키워드를 사용하여 다시 자신을 상속할 클래스들을 제한해보자.\npackage me.parker.sealedclasses; public sealed class Rectangle extends Shape permits TransparentRectangle, FilledRectangle { } public final class TransparentRectangle extends Rectangle { } public final class FilledRectangle extends Rectangle { } Rectangle 클래스는 다시 한 번 sealed 키워드로 자신을 상속할 클래스를 직접 선언하여 이 클래스들만 상속을 할 수 있도록 제한하였다.\n마지막으로, 자유롭게 상속을 할 수 있도록 하는 non-sealed 키워드 예제를 보자.\npackage me.parker.sealedclasses; public non-sealed class WeirdShape extends Shape { } public class MyShape extends WeirdShape{ } WeirdShape 클래스는 non-sealed 키워드를 사용하였기 때문에 아무런 제한이 없어졌고, 이를 상속한 MyShape 은 더이상 final, sealed, non-sealed 키워드를 사용하지 않아도 된다.\n한가지 주의할 점은 같은 패키지에 속해야 한다는 제한까지 없어진 것은 아니다. 만약 다른 패키지에서 WeirdShape 클래스를 상속하면, Shape 클래스에서 컴파일 오류가 발생한다.\n다음과 같은 경우, 같은 패키지에 선언하지 않아 Class is not allowed to extend sealed class from another package 에러가 발생하는 경우이다.\npackage me.parker.another; import me.parker.sealedclasses.Shape; public final class AnotherShape extends Shape { } package me.parker.sealedclasses.subpackage; import me.parker.sealedclasses.Shape; public final class SubPackageShape extends Shape { } 하위 클래스에 있어도 똑같이 에러가 발생한다.\nPattern matching for instanceof 클래스의 타입을 확인하기 위해서 자바는 instanceof 키워드를 제공해준다. 대부분 타입을 확인한 후, 그 타입인 경우 타입 변환을 해서 사용하는데, 다음과 같은 예제를 쉽게 볼 수 있을 것이다.\n@Test void old_style() { Object objectPoint = new PointClass(0, 0); if (objectPoint instanceof PointClass) { PointClass pointClass = (PointClass) objectPoint; System.out.println(\"x=\" + pointClass.getX() + \", \" + \"y=\" + pointClass.getY()); } } objectPoint 의 타입이 PointClass라면, pointClass 변수에 형변환을 하여 사용할 수 있다.\nJava 17에서는 형변환을 따로 변수 선언해서 하는 것을 한 번에 할 수 있도록 편의성을 제공해준다. 위와 같은 동작을 하는 로직을 아래와 같이 더욱 간단하게 구현할 수 있다.\n@Test void new_style() { Object objectPoint = new PointClass(0, 0); if (objectPoint instanceof PointClass pointClass) { System.out.println(\"x=\" + pointClass.getX() + \", \" + \"y=\" + pointClass.getY()); } } instanceof 키워드를 사용하는 절 내부에 바로 클래스 타입과 변수를 선언하여 이를 바로 if 문 내에 사용할 수 있도록 하였다.\n컴파일 시간에 타입에 대해 확신을 준다면, instanceof 키워드에 선언한 변수를 로컬 변수처럼 사용할 수 있다.\n@Test void new_style_local_variable() { Object objectPoint = new PointClass(0, 0); if (!(objectPoint instanceof PointClass pointClass)) { throw new IllegalStateException(); } System.out.println(\"x=\" + pointClass.getX() + \", \" + \"y=\" + pointClass.getY()); } PointClass 타입이 아닌 경우, 예외를 발생시켜 메서드 밖으로 나가도록 하였다. 이 예외가 발생하지 않았다면 objectPoint 는 클래스 타입이 PointClass로 확신할 수 있으므로, 위와 같이 로컬 변수로 바로 사용할 수 있도록 해준다.\nHelpful NullPointerExceptions NullPointerException이 발생한 변수가 어떤 변수인지 정확하게 에러 메시지에 표시해준다.\n아래 코드는 NullPointerException을 강제로 만든 예제이다.\n@Test void throw_NullPointerException() { Map\u003cString, PointClass\u003e points = new HashMap\u003c\u003e(); points.put(\"p1\", new PointClass(0, 0)); points.put(\"p2\", new PointClass(1, 1)); points.put(\"p3\", null); // 강제 NullPointerException 만들기 for (Map.Entry\u003cString, PointClass\u003e entry : points.entrySet()) { System.out.println(entry.getKey() + \": \" + \"x=\" + entry.getValue().getX() + \"y=\" + entry.getValue().getY()); } } 위 예제를 먼저 Java 11 버전에서 동작시켜보자.\np1: x=0y=0 p2: x=1y=1 java.lang.NullPointerException at me.parker.NullPointerExceptionTest.throw_NullPointerException(UrlTest.java:47) at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) Java 11에서는 단순히 NullPointerExceptiond이 발생한 라인 정보만 있다. 위 예제에서도 해당 라인에 여러 개의 접근 메서드가 있는데, 이런 경우 정확히 어디서 NullPointerException이 발생했는지 쉽게 알 수 없다.\nJava 17에서 위 테스트 코드를 동작시켜보자.\np1: x=0y=0 p2: x=1y=1 java.lang.NullPointerException: Cannot invoke \"me.parker.records.PointClass.getX()\" because the return value of \"java.util.Map$Entry.getValue()\" is null at me.parker.NullPointerExceptionTest.throw_NullPointerException(NullPointerExceptionTest.java:19) at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) 위 메시지를 보면 java.util.Map$Entry.getValue() 결과가 null 이라서, me.parker.records.PointClass.getX() 메서드를 호출할 수 없다고 정확하게 알려준다.\n기타 Compact Number Formatting Support NumberFormat 객체를 제공해주는데, 이는 사람이 읽기 좋은 숫자 표현으로 변환해준다. (유니코드 기반)\n@Test void english_short() { NumberFormat fmt = NumberFormat.getCompactNumberInstance( Locale.ENGLISH, NumberFormat.Style.SHORT); System.out.println(fmt.format(10)); System.out.println(fmt.format(1000)); System.out.println(fmt.format(100000)); System.out.println(fmt.format(1000000)); } 10 1K 100K 1M @Test void english_long() { NumberFormat fmt = NumberFormat.getCompactNumberInstance( Locale.ENGLISH, NumberFormat.Style.LONG); System.out.println(fmt.format(10)); System.out.println(fmt.format(1000)); System.out.println(fmt.format(100000)); System.out.println(fmt.format(1000000)); } 10 1 thousand 100 thousand 1 million @Test void korean_long() { NumberFormat fmt = NumberFormat.getCompactNumberInstance( Locale.KOREAN, NumberFormat.Style.LONG); System.out.println(fmt.format(10)); System.out.println(fmt.format(1000)); System.out.println(fmt.format(100000)); System.out.println(fmt.format(1000000)); } 10 1천 10만 100만 Day Period Support Added @Test void english() { DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"B\").withLocale(Locale.forLanguageTag(\"EN\")); System.out.println(dtf.format(LocalTime.of(8, 0))); System.out.println(dtf.format(LocalTime.of(13, 0))); System.out.println(dtf.format(LocalTime.of(20, 0))); System.out.println(dtf.format(LocalTime.of(23, 0))); System.out.println(dtf.format(LocalTime.of(0, 0))); } in the morning in the afternoon in the evening at night midnight @Test void english() { DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"B\").withLocale(Locale.forLanguageTag(\"KO\")); System.out.println(dtf.format(LocalTime.of(8, 0))); System.out.println(dtf.format(LocalTime.of(13, 0))); System.out.println(dtf.format(LocalTime.of(20, 0))); System.out.println(dtf.format(LocalTime.of(23, 0))); System.out.println(dtf.format(LocalTime.of(0, 0))); } 오전 오후 저녁 밤 자정 참고자료 JEPs in JDK 17 integrated since JDK 11\nWhat’s New Between Java 11 and Java 17? - DZone\n","wordCount":"2173","inLanguage":"en","datePublished":"2023-02-24T11:53:53+09:00","dateModified":"2023-02-24T11:53:53+09:00","author":{"@type":"Person","name":"parker1609"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://parker1609.github.io/post/java-11-vs-java-17/"},"publisher":{"@type":"Organization","name":"Parker Blog","logo":{"@type":"ImageObject","url":"https://parker1609.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://parker1609.github.io/ accesskey=h title="파커 블로그 (Alt + H)"><img src=https://parker1609.github.io/apple-touch-icon.png alt aria-label=logo height=35>파커 블로그</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://parker1609.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://parker1609.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://example.org title=example.org><span>example.org</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://parker1609.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://parker1609.github.io/post/>Posts</a></div><h1 class=post-title>Java 11 vs Java 17</h1><div class=post-meta><span title='2023-02-24 11:53:53 +0900 KST'>February 24, 2023</span>&nbsp;·&nbsp;parker1609</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-%ec%a7%80%ec%9b%90%ea%b8%b0%ea%b0%84 aria-label="1. 지원기간">1. 지원기간</a></li><li><a href=#2-java-11-vs-17-%ec%a3%bc%ec%9a%94-%eb%b3%80%ea%b2%bd%ec%82%ac%ed%95%ad aria-label="2. Java 11 VS 17, 주요 변경사항">2. Java 11 VS 17, 주요 변경사항</a><ul><li><a href=#text-blockshttpsopenjdkorgjeps378 aria-label="Text Blocks"><a href=https://openjdk.org/jeps/378>Text Blocks</a></a></li><li><a href=#switch-expressionshttpsopenjdkorgjeps361 aria-label="Switch Expressions"><a href=https://openjdk.org/jeps/361>Switch Expressions</a></a></li><li><a href=#recordshttpsopenjdkorgjeps395 aria-label=Records><a href=https://openjdk.org/jeps/395>Records</a></a></li><li><a href=#sealed-classeshttpsopenjdkorgjeps409 aria-label="Sealed Classes"><a href=https://openjdk.org/jeps/409>Sealed Classes</a></a></li><li><a href=#pattern-matching-for-instanceofhttpsopenjdkorgjeps394 aria-label="Pattern matching for instanceof"><a href=https://openjdk.org/jeps/394>Pattern matching for instanceof</a></a></li><li><a href=#helpful-nullpointerexceptionshttpsopenjdkorgjeps358 aria-label="Helpful NullPointerExceptions"><a href=https://openjdk.org/jeps/358>Helpful NullPointerExceptions</a></a></li><li><a href=#%ea%b8%b0%ed%83%80 aria-label=기타>기타</a><ul><li><a href=#compact-number-formatting-support aria-label="Compact Number Formatting Support">Compact Number Formatting Support</a></li><li><a href=#day-period-support-added aria-label="Day Period Support Added">Day Period Support Added</a></li></ul></li><li><a href=#%ec%b0%b8%ea%b3%a0%ec%9e%90%eb%a3%8c aria-label=참고자료>참고자료</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=1-지원기간>1. 지원기간<a hidden class=anchor aria-hidden=true href=#1-지원기간>#</a></h1><p><img loading=lazy src=https://user-images.githubusercontent.com/34755287/221081004-31b17df9-691e-4d3c-9468-863d3fa38536.png alt=java-support-roadmap></p><blockquote><p><a href=https://www.oracle.com/java/technologies/java-se-support-roadmap.html>https://www.oracle.com/java/technologies/java-se-support-roadmap.html</a></p></blockquote><ul><li>자바 11버전은 최대 2026년 9월까지 지원</li><li>자바 17버전은 최대 2029년 9월까지 지원</li></ul><h1 id=2-java-11-vs-17-주요-변경사항>2. Java 11 VS 17, 주요 변경사항<a hidden class=anchor aria-hidden=true href=#2-java-11-vs-17-주요-변경사항>#</a></h1><blockquote><p>아래 예제 코드의 전체는 <a href=https://github.com/programming-starter/java-17-starter>https://github.com/programming-starter/java-17-starter</a> 이 링크에서 확인할 수 있습니다.</p></blockquote><h2 id=text-blockshttpsopenjdkorgjeps378><a href=https://openjdk.org/jeps/378>Text Blocks</a><a hidden class=anchor aria-hidden=true href=#text-blockshttpsopenjdkorgjeps378>#</a></h2><p>문자열을 좀 더 읽기 좋게 표현할 수 있게 되었다. 특히 JSON과 같은 문자열을 표현할 때, 예전에는 다음과 같이 표현해야 했다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;parker&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;age&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;job&#34;</span><span class=p>:</span> <span class=s2>&#34;Programmer&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>old_style</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>var</span> <span class=n>json</span> <span class=o>=</span> <span class=s>&#34;{\n&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;  \&#34;name\&#34;: \&#34;parker\&#34;,\n&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;  \&#34;age\&#34;: 30,\n&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;  \&#34;job\&#34;: \&#34;Programmer\&#34;\n&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;}&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>json</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>줄바꿈 표시 ‘\n’ 과 문자열을 합치는 ‘+’ 등 여러 보기에 불필요한 표현을 추가해야 한다.</p><p>하지만, Text Blocks를 사용하면 다음과 같이 매우 간단하고 읽기 편하게 표현할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>var</span> <span class=n>json</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s>            {
</span></span></span><span class=line><span class=cl><span class=s>              &#34;</span><span class=n>name</span><span class=s>&#34;: &#34;</span><span class=n>parker</span><span class=s>&#34;,
</span></span></span><span class=line><span class=cl><span class=s>              &#34;</span><span class=n>age</span><span class=s>&#34;: 30,
</span></span></span><span class=line><span class=cl><span class=s>              &#34;</span><span class=n>job</span><span class=s>&#34;: &#34;</span><span class=n>Programmer</span><span class=s>&#34;
</span></span></span><span class=line><span class=cl><span class=s>            }
</span></span></span><span class=line><span class=cl><span class=s>            &#34;&#34;&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>json</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>Text Blocks는 3개의 쌍따옴표를 사용한다. 이를 양쪽에 선언하고 그 안에 필요한 문자열을 표현한다. 위는 old_style 테스트와 같은 문자열 결과를 가져온다.</p><p>사용할 때, 한 가지 유의해야할 점은 전체 <strong>문자열 앞의 공백을 다루는 방법</strong>이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>....</span><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>....</span>  <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;parker&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err>....</span>  <span class=nt>&#34;age&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err>....</span>  <span class=nt>&#34;job&#34;</span><span class=p>:</span> <span class=s2>&#34;Programmer&#34;</span>
</span></span><span class=line><span class=cl><span class=err>....</span><span class=p>}</span>
</span></span></code></pre></div><p>위 처럼 Text Blocks에 선언한 문자열 전체 앞에 공백을 두고 싶다고 가정해보자. (위는 공백을 ‘.’으로 대신 표현하였음.)</p><p>이 경우 Text Blocks에서는 마지막 3개의 쌍따옴표를 기준으로 공백을 표현할 수 있도록 해준다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style_how_to_make_space</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>var</span> <span class=n>json</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s>                {
</span></span></span><span class=line><span class=cl><span class=s>                  &#34;</span><span class=n>name</span><span class=s>&#34;: &#34;</span><span class=n>parker</span><span class=s>&#34;,
</span></span></span><span class=line><span class=cl><span class=s>                  &#34;</span><span class=n>age</span><span class=s>&#34;: 30,
</span></span></span><span class=line><span class=cl><span class=s>                  &#34;</span><span class=n>job</span><span class=s>&#34;: &#34;</span><span class=n>Programmer</span><span class=s>&#34;
</span></span></span><span class=line><span class=cl><span class=s>                }
</span></span></span><span class=line><span class=cl><span class=s>            &#34;&#34;&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=n>json</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;공백&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>위 코드를 보면 마지막 3개의 쌍따옴표를 기준으로 JSON 표현이 앞 쪽으로 좀 더 밀려나서 공백을 만들었다. 위 테스트 코드를 실행하면, 다음과 같이 공백이 만들어진 것을 확인할 수 있다.</p><pre tabindex=0><code>		{
      &#34;name&#34;: &#34;parker&#34;,
      &#34;age&#34;: 30,
      &#34;job&#34;: &#34;Programmer&#34;
    }
공백
</code></pre><p>여기서, <strong>주의할 점은 마지막 3개의 쌍따옴표가 기준</strong>이 된다는 점이다. 처음 선언한 3개의 쌍따옴표는 영향을 주지 않는다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style_how_to_make_space</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>var</span> <span class=n>json</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s>            {
</span></span></span><span class=line><span class=cl><span class=s>              &#34;</span><span class=n>name</span><span class=s>&#34;: &#34;</span><span class=n>parker</span><span class=s>&#34;,
</span></span></span><span class=line><span class=cl><span class=s>              &#34;</span><span class=n>age</span><span class=s>&#34;: 30,
</span></span></span><span class=line><span class=cl><span class=s>              &#34;</span><span class=n>job</span><span class=s>&#34;: &#34;</span><span class=n>Programmer</span><span class=s>&#34;
</span></span></span><span class=line><span class=cl><span class=s>            }
</span></span></span><span class=line><span class=cl><span class=s>            &#34;&#34;&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=n>json</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;공백&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>위를 실행하면 전혀 공백이 생기지 않는 것을 확인할 수 있다.</p><h2 id=switch-expressionshttpsopenjdkorgjeps361><a href=https://openjdk.org/jeps/361>Switch Expressions</a><a hidden class=anchor aria-hidden=true href=#switch-expressionshttpsopenjdkorgjeps361>#</a></h2><p>기존의 switch 문은 정상적으로 동작시키기 위해서는 break 문이 필수로 필요하였다. 이는 실수할 여지가 있었고, “{}” 도 없이 여러 줄이 있다보니 개인적으로 문법상 일관성이 없어서 헷갈릴 때가 종종 있었다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>old_style</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Food</span> <span class=n>food</span> <span class=o>=</span> <span class=n>Food</span><span class=o>.</span><span class=na>BUL_GOGI</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>switch</span><span class=o>(</span><span class=n>food</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>KIMCHI</span><span class=o>,</span> <span class=n>BUL_GOGI</span><span class=o>,</span> <span class=n>BIBIMBAP</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Korea Food&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>SUSHI</span><span class=o>,</span> <span class=n>RAMEN</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Japan Food&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>PAD_THAI</span><span class=o>,</span> <span class=n>NASI_GORENG</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Thailand Food&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;I don&#39;t know&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>위를 수행하면 정상적으로 아래 결과가 나올 것이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Korea</span> <span class=n>Food</span>
</span></span></code></pre></div><p>그런데 만약 실수로 break 문을 생략한다면 다음과 같은 예상하지 못한 결과를 볼 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Korea</span> <span class=n>Food</span>
</span></span><span class=line><span class=cl><span class=n>Japan</span> <span class=n>Food</span>
</span></span><span class=line><span class=cl><span class=n>Thailand</span> <span class=n>Food</span>
</span></span><span class=line><span class=cl><span class=n>I</span> <span class=n>don</span><span class=err>&#39;</span><span class=n>t</span> <span class=n>know</span>
</span></span></code></pre></div><p>case 문에 정상적으로 진입하여 로직을 수행한 후, 빠져나가야하는데 break 문이 없어서 그 아래 case도 모두 실행되는 모습이다.</p><p>일본 음식으로 하면 아래와 같이 결과가 나올 것이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Japan</span> <span class=n>Food</span>
</span></span><span class=line><span class=cl><span class=n>Thailand</span> <span class=n>Food</span>
</span></span><span class=line><span class=cl><span class=n>I</span> <span class=n>don</span><span class=err>&#39;</span><span class=n>t</span> <span class=n>know</span>
</span></span></code></pre></div><p>자바 17 버전에서는 break 문을 전혀 사용하지 않아도 되도록 변경되었다. 그리고 “{}”를 사용하지 않는 불규칙적인 문법도 없앴다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Food</span> <span class=n>food</span> <span class=o>=</span> <span class=n>Food</span><span class=o>.</span><span class=na>BUL_GOGI</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>switch</span> <span class=o>(</span><span class=n>food</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>KIMCHI</span><span class=o>,</span> <span class=n>BUL_GOGI</span><span class=o>,</span> <span class=n>BIBIMBAP</span> <span class=o>-&gt;</span> <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Korea Food&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>SUSHI</span><span class=o>,</span> <span class=n>RAMEN</span> <span class=o>-&gt;</span> <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Japan Food&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>PAD_THAI</span><span class=o>,</span> <span class=n>NASI_GORENG</span> <span class=o>-&gt;</span> <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Thailand Food&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>default</span> <span class=o>-&gt;</span> <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;I don&#39;t know&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Korea</span> <span class=n>Food</span>
</span></span></code></pre></div><p>위는 old_style 테스트를 그대로 변경된 switch 표현식으로 나타낸 모습이다. ‘→’ 키워드를 통해 람다식으로 익숙한 문법 표현을 사용하였고, break 문도 필요없어서 단순하고 읽기 좋아졌다.</p><p>만약, switch 문 결과를 반환값으로 사용한다면 다음과 같이 구현할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style_return</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Food</span> <span class=n>food</span> <span class=o>=</span> <span class=n>Food</span><span class=o>.</span><span class=na>BUL_GOGI</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>result</span> <span class=o>=</span> <span class=k>switch</span> <span class=o>(</span><span class=n>food</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>KIMCHI</span><span class=o>,</span> <span class=n>BUL_GOGI</span><span class=o>,</span> <span class=n>BIBIMBAP</span> <span class=o>-&gt;</span> <span class=s>&#34;Korea Food&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>SUSHI</span><span class=o>,</span> <span class=n>RAMEN</span> <span class=o>-&gt;</span> <span class=s>&#34;Japan Food&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>PAD_THAI</span><span class=o>,</span> <span class=n>NASI_GORENG</span> <span class=o>-&gt;</span> <span class=s>&#34;Thailand Food&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>default</span> <span class=o>-&gt;</span> <span class=s>&#34;I don&#39;t know&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>};</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>result</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Korea</span> <span class=n>Food</span>
</span></span></code></pre></div><p>case 문 안에 여러 개의 로직을 구현하고 싶은 경우는 다음과 같이 일관된 “{}”를 사용할 수 있다. 그에 더해 새로운 키워드인 <code>yield</code> 라는 키워드로 반환값을 나타내야 한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style_multiple_login_in_case</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Food</span> <span class=n>food</span> <span class=o>=</span> <span class=n>Food</span><span class=o>.</span><span class=na>BUL_GOGI</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>result</span> <span class=o>=</span> <span class=k>switch</span> <span class=o>(</span><span class=n>food</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>KIMCHI</span><span class=o>,</span> <span class=n>BUL_GOGI</span><span class=o>,</span> <span class=n>BIBIMBAP</span> <span class=o>-&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;current food: &#34;</span> <span class=o>+</span> <span class=n>food</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>yield</span> <span class=s>&#34;Korea Food&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>SUSHI</span><span class=o>,</span> <span class=n>RAMEN</span> <span class=o>-&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;current food: &#34;</span> <span class=o>+</span> <span class=n>food</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>yield</span> <span class=s>&#34;Japan Food&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>PAD_THAI</span><span class=o>,</span> <span class=n>NASI_GORENG</span> <span class=o>-&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;current food: &#34;</span> <span class=o>+</span> <span class=n>food</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>yield</span> <span class=s>&#34;Thailand Food&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>default</span> <span class=o>-&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;invalid food: &#34;</span> <span class=o>+</span> <span class=n>food</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>yield</span> <span class=s>&#34;I don&#39;t know&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>};</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>result</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>current</span> <span class=n>food</span><span class=o>:</span> <span class=n>BUL_GOGI</span>
</span></span><span class=line><span class=cl><span class=n>Korea</span> <span class=n>Food</span>
</span></span></code></pre></div><p><code>yield</code> 키워드만을 사용해서 반환값을 나타낼 수도 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style_only_using_yield</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Food</span> <span class=n>food</span> <span class=o>=</span> <span class=n>Food</span><span class=o>.</span><span class=na>BUL_GOGI</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>result</span> <span class=o>=</span> <span class=k>switch</span> <span class=o>(</span><span class=n>food</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>KIMCHI</span><span class=o>,</span> <span class=n>BUL_GOGI</span><span class=o>,</span> <span class=n>BIBIMBAP</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=n>yield</span> <span class=s>&#34;Korea Food&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>SUSHI</span><span class=o>,</span> <span class=n>RAMEN</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=n>yield</span> <span class=s>&#34;Japan Food&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>PAD_THAI</span><span class=o>,</span> <span class=n>NASI_GORENG</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=n>yield</span> <span class=s>&#34;Thailand Food&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=n>yield</span> <span class=s>&#34;I don&#39;t know&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>};</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>result</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Korea</span> <span class=n>Food</span>
</span></span></code></pre></div><h2 id=recordshttpsopenjdkorgjeps395><a href=https://openjdk.org/jeps/395>Records</a><a hidden class=anchor aria-hidden=true href=#recordshttpsopenjdkorgjeps395>#</a></h2><p>Records는 **변경불가능한 데이터 클래스(흔히, Value Object(VO)라고 불림)**를 간단하게 만들 수 있도록 도와주는 문법이다. 특히, 클래스를 생성하기 위해 필요했던 생성자, getters, hashCode, equals, toString 등 반복적인 작업을 할 필요 없도록 편의성을 제공해주고 있다. (Lombok으로 이를 대체했지만, 이제는 Lombok 의존성도 필요하지 않을 수 있다.)</p><p>예를 들어, x 좌표와 y 좌표를 갖는 <code>Point</code> 객체를 만들어보자. 기본 클래스를 사용한다면 아래와 같이 구현할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>PointClass</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>final</span> <span class=kt>int</span> <span class=n>x</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>final</span> <span class=kt>int</span> <span class=n>y</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>PointClass</span><span class=o>(</span><span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>x</span> <span class=o>=</span> <span class=n>x</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>y</span> <span class=o>=</span> <span class=n>y</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>getX</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>x</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>getY</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>y</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>equals</span><span class=o>(</span><span class=n>Object</span> <span class=n>o</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=k>this</span> <span class=o>==</span> <span class=n>o</span><span class=o>)</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>o</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>||</span> <span class=n>getClass</span><span class=o>()</span> <span class=o>!=</span> <span class=n>o</span><span class=o>.</span><span class=na>getClass</span><span class=o>())</span> <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>PointClass</span> <span class=n>point</span> <span class=o>=</span> <span class=o>(</span><span class=n>PointClass</span><span class=o>)</span> <span class=n>o</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>x</span> <span class=o>==</span> <span class=n>point</span><span class=o>.</span><span class=na>x</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>==</span> <span class=n>point</span><span class=o>.</span><span class=na>y</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>hashCode</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Objects</span><span class=o>.</span><span class=na>hash</span><span class=o>(</span><span class=n>x</span><span class=o>,</span> <span class=n>y</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>toString</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;Point{&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;x=&#34;</span> <span class=o>+</span> <span class=n>x</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;, y=&#34;</span> <span class=o>+</span> <span class=n>y</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=sc>&#39;}&#39;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><ul><li>x, y 필드는 final로 불변하도록 만들었다.</li><li>생성자, getters, equals, hashCode, toString 을 선언해주었다.</li></ul><p><code>PointClass</code> 를 확인하기 위한 간단한 테스트 코드를 작성해보자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>old_style</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>PointClass</span> <span class=n>point1</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PointClass</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>PointClass</span> <span class=n>point2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PointClass</span><span class=o>(</span><span class=mi>1</span><span class=o>,</span> <span class=mi>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;point1 = &#34;</span> <span class=o>+</span> <span class=n>point1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;point2 = &#34;</span> <span class=o>+</span> <span class=n>point2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Point 1 equals point 2? &#34;</span> <span class=o>+</span> <span class=n>point1</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>point2</span><span class=o>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>PointClass</span> <span class=n>pointCopy</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PointClass</span><span class=o>(</span><span class=n>point1</span><span class=o>.</span><span class=na>getX</span><span class=o>(),</span> <span class=n>point1</span><span class=o>.</span><span class=na>getY</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Point 1 equals its copy? &#34;</span> <span class=o>+</span> <span class=n>point1</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>pointCopy</span><span class=o>));</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>point1</span> <span class=o>=</span> <span class=n>Point</span><span class=o>{</span><span class=n>x</span><span class=o>=</span><span class=mi>0</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>0</span><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=n>point2</span> <span class=o>=</span> <span class=n>Point</span><span class=o>{</span><span class=n>x</span><span class=o>=</span><span class=mi>1</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>1</span><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=n>Point</span> <span class=mi>1</span> <span class=n>equals</span> <span class=n>point</span> <span class=mi>2</span><span class=o>?</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl><span class=n>Point</span> <span class=mi>1</span> <span class=n>equals</span> <span class=n>its</span> <span class=n>copy</span><span class=o>?</span> <span class=kc>true</span>
</span></span></code></pre></div><p>Record를 사용해서 Point를 만들어보자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=n>record</span> <span class=nf>PointRecord</span><span class=o>(</span><span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><code>PointClass</code> 에 비해 매우 간단히 나타낼 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>PointRecord</span> <span class=n>point1</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PointRecord</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>PointRecord</span> <span class=n>point2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PointRecord</span><span class=o>(</span><span class=mi>1</span><span class=o>,</span> <span class=mi>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;point1 = &#34;</span> <span class=o>+</span> <span class=n>point1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;point2 = &#34;</span> <span class=o>+</span> <span class=n>point2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Point 1 equals point 2? &#34;</span> <span class=o>+</span> <span class=n>point1</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>point2</span><span class=o>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>PointRecord</span> <span class=n>pointCopy</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PointRecord</span><span class=o>(</span><span class=n>point1</span><span class=o>.</span><span class=na>x</span><span class=o>(),</span> <span class=n>point1</span><span class=o>.</span><span class=na>y</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Point 1 equals its copy? &#34;</span> <span class=o>+</span> <span class=n>point1</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>pointCopy</span><span class=o>));</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>위 테스트 코드를 실행하면, <code>PointClass</code> 테스트와 동일한 결과를 볼 수 있다.</p><p>Record도 생성자를 직접 구현할 수 있고, 여기서 파라미터에 대해 유효성 검사를 수행할 수 있다. 그리고 생성자 내에서는 Record의 필드들은 null 또는 초기값으로 세팅되어 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=n>record</span> <span class=nf>Triangle</span><span class=o>(</span><span class=n>PointRecord</span> <span class=n>p1</span><span class=o>,</span> <span class=n>PointRecord</span> <span class=n>p2</span><span class=o>,</span> <span class=n>PointRecord</span> <span class=n>p3</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Triangle</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Parameter p1=&#34;</span> <span class=o>+</span> <span class=n>p1</span> <span class=o>+</span> <span class=s>&#34;, Field p1=&#34;</span> <span class=o>+</span> <span class=k>this</span><span class=o>.</span><span class=na>p1</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Parameter p2=&#34;</span> <span class=o>+</span> <span class=n>p2</span> <span class=o>+</span> <span class=s>&#34;, Field p2=&#34;</span> <span class=o>+</span> <span class=k>this</span><span class=o>.</span><span class=na>p2</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Parameter p3=&#34;</span> <span class=o>+</span> <span class=n>p3</span> <span class=o>+</span> <span class=s>&#34;, Field p3=&#34;</span> <span class=o>+</span> <span class=k>this</span><span class=o>.</span><span class=na>p3</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><ul><li>삼각형 Triangle 레코드는 3개의 Point 레코드를 필드로 갖고 있다.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>record_validation_constructor</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Triangle</span> <span class=n>triangle</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Triangle</span><span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>PointRecord</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>PointRecord</span><span class=o>(</span><span class=mi>5</span><span class=o>,</span> <span class=mi>5</span><span class=o>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>PointRecord</span><span class=o>(</span><span class=mi>10</span><span class=o>,</span> <span class=mi>0</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;triangle = &#34;</span> <span class=o>+</span> <span class=n>triangle</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Parameter</span> <span class=n>p1</span><span class=o>=</span><span class=n>PointRecord</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>0</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>0</span><span class=o>],</span> <span class=n>Field</span> <span class=n>p1</span><span class=o>=</span><span class=kc>null</span>
</span></span><span class=line><span class=cl><span class=n>Parameter</span> <span class=n>p2</span><span class=o>=</span><span class=n>PointRecord</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>5</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>5</span><span class=o>],</span> <span class=n>Field</span> <span class=n>p2</span><span class=o>=</span><span class=kc>null</span>
</span></span><span class=line><span class=cl><span class=n>Parameter</span> <span class=n>p3</span><span class=o>=</span><span class=n>PointRecord</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>10</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>0</span><span class=o>],</span> <span class=n>Field</span> <span class=n>p3</span><span class=o>=</span><span class=kc>null</span>
</span></span><span class=line><span class=cl><span class=n>triangle</span> <span class=o>=</span> <span class=n>Triangle</span><span class=o>[</span><span class=n>p1</span><span class=o>=</span><span class=n>PointRecord</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>0</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>0</span><span class=o>],</span> <span class=n>p2</span><span class=o>=</span><span class=n>PointRecord</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>5</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>5</span><span class=o>],</span> <span class=n>p3</span><span class=o>=</span><span class=n>PointRecord</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>10</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>0</span><span class=o>]]</span>
</span></span></code></pre></div><p><code>Triangle</code> 레코드를 생성할 때, Field는 모두 null 값으로 세팅되어 있는 것을 볼 수 있다.</p><p>Record의 또 다른 유용한 점은 로컬에서도 사용할 수 있다는 점이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>local_record_point</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>xList</span> <span class=o>=</span> <span class=n>List</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>1</span><span class=o>,</span> <span class=mi>2</span><span class=o>,</span> <span class=mi>3</span><span class=o>,</span> <span class=mi>5</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>yList</span> <span class=o>=</span> <span class=n>List</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>1</span><span class=o>,</span> <span class=mi>2</span><span class=o>,</span> <span class=mi>3</span><span class=o>,</span> <span class=mi>5</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>record</span> <span class=nf>Point</span><span class=o>(</span><span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>)</span> <span class=o>{</span> <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>xList</span><span class=o>.</span><span class=na>size</span><span class=o>();</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Point</span> <span class=n>point</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Point</span><span class=o>(</span><span class=n>xList</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>i</span><span class=o>),</span> <span class=n>yList</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>i</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;point = &#34;</span> <span class=o>+</span> <span class=n>point</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>point</span> <span class=o>=</span> <span class=n>Point</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>0</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>0</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=n>point</span> <span class=o>=</span> <span class=n>Point</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>1</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>1</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=n>point</span> <span class=o>=</span> <span class=n>Point</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>2</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>2</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=n>point</span> <span class=o>=</span> <span class=n>Point</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>3</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=n>point</span> <span class=o>=</span> <span class=n>Point</span><span class=o>[</span><span class=n>x</span><span class=o>=</span><span class=mi>5</span><span class=o>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>5</span><span class=o>]</span>
</span></span></code></pre></div><h2 id=sealed-classeshttpsopenjdkorgjeps409><a href=https://openjdk.org/jeps/409>Sealed Classes</a><a hidden class=anchor aria-hidden=true href=#sealed-classeshttpsopenjdkorgjeps409>#</a></h2><p><code>sealed</code> 키워드는 class와 interface에 선언할 수 있는 키워드이며, 상속 또는 구현하는 것을 제한하는 키워드이다.</p><p><code>sealed</code> 키워드의 사용법과 특징은 다음과 같다.</p><ul><li><code>sealed</code> 키워드가 선언된 상위 클래스와 이를 상속 또는 구현하는 하위 클래스는 모두 같은 모듈 또는 같은 패키지에 위치해야 한다.</li><li><code>sealed</code> 키워드가 선언된 상위 클래스는 <code>permits</code> 키워드로 자신을 상속 또는 구현하는 하위 클래스를 선언해야 한다.</li><li><code>sealed</code> 키워드가 선언된 상위 클래스를 상속 또는 구현하는 하위 클래스는 <code>final</code> / <code>sealed</code> / <code>non-sealed</code> 셋 중 하나의 키워드를 반드시 선언해야 한다.<ul><li><code>final</code> : 해당 클래스는 더이상 상속 또는 구현할 수 없다.</li><li><code>sealed</code> : 자신을 상속 또는 구현할 클래스를 지정할 수 있다.</li><li><code>non-sealed</code> : 해당 클래스는 자유롭게 상속 또는 구현할 수 있다.</li></ul></li></ul><p>위를 지키지 않으면, 컴파일 에러가 발생한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>me.parker.sealedclasses</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 최상위 Shape 클래스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>public</span> <span class=kd>abstract</span> <span class=n>sealed</span> <span class=kd>class</span> <span class=nc>Shape</span>
</span></span><span class=line><span class=cl>        <span class=n>permits</span> <span class=n>Circle</span><span class=o>,</span> <span class=n>Rectangle</span><span class=o>,</span> <span class=n>Square</span><span class=o>,</span> <span class=n>WeirdShape</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><code>Shape</code> 클래스는 추상 클래스로 <code>sealed</code> 키워드를 선언하였고, 자신을 상속할 수 있는 클래스들을 <code>permits</code> 키워드로 선언하였다.</p><p>먼저, <code>Shape</code> 클래스를 상속한 후, 더이상 다른 클래스가 상속할 수 없도록 <code>final</code> 키워드를 선언한 예시를 보자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>me.parker.sealedclasses</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>final</span> <span class=kd>class</span> <span class=nc>Circle</span> <span class=kd>extends</span> <span class=n>Shape</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>같은 패키지안에 있어야 한다는 것을 주의하자. <code>Circle</code> 클래스는 이제 더이상 상속할 수 없는 클래스이다.</p><p>두 번째로, <code>sealed</code> 키워드를 사용하여 다시 자신을 상속할 클래스들을 제한해보자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>me.parker.sealedclasses</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>sealed</span> <span class=kd>class</span> <span class=nc>Rectangle</span> <span class=kd>extends</span> <span class=n>Shape</span>
</span></span><span class=line><span class=cl>        <span class=n>permits</span>  <span class=n>TransparentRectangle</span><span class=o>,</span> <span class=n>FilledRectangle</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>final</span> <span class=kd>class</span> <span class=nc>TransparentRectangle</span> <span class=kd>extends</span> <span class=n>Rectangle</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>final</span> <span class=kd>class</span> <span class=nc>FilledRectangle</span> <span class=kd>extends</span> <span class=n>Rectangle</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><code>Rectangle</code> 클래스는 다시 한 번 <code>sealed</code> 키워드로 자신을 상속할 클래스를 직접 선언하여 이 클래스들만 상속을 할 수 있도록 제한하였다.</p><p>마지막으로, 자유롭게 상속을 할 수 있도록 하는 <code>non-sealed</code> 키워드 예제를 보자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>me.parker.sealedclasses</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>non</span><span class=o>-</span><span class=n>sealed</span> <span class=kd>class</span> <span class=nc>WeirdShape</span> <span class=kd>extends</span> <span class=n>Shape</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MyShape</span> <span class=kd>extends</span> <span class=n>WeirdShape</span><span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><code>WeirdShape</code> 클래스는 <code>non-sealed</code> 키워드를 사용하였기 때문에 아무런 제한이 없어졌고, 이를 상속한 <code>MyShape</code> 은 더이상 final, sealed, non-sealed 키워드를 사용하지 않아도 된다.</p><p>한가지 주의할 점은 <strong>같은 패키지에 속해야 한다는 제한까지 없어진 것은 아니다.</strong> 만약 다른 패키지에서 <code>WeirdShape</code> 클래스를 상속하면, <code>Shape</code> 클래스에서 컴파일 오류가 발생한다.</p><p>다음과 같은 경우, 같은 패키지에 선언하지 않아 <code>Class is not allowed to extend sealed class from another package</code> 에러가 발생하는 경우이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>me.parker.another</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>me.parker.sealedclasses.Shape</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>final</span> <span class=kd>class</span> <span class=nc>AnotherShape</span> <span class=kd>extends</span> <span class=n>Shape</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>me.parker.sealedclasses.subpackage</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>me.parker.sealedclasses.Shape</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>final</span> <span class=kd>class</span> <span class=nc>SubPackageShape</span> <span class=kd>extends</span> <span class=n>Shape</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>하위 클래스에 있어도 똑같이 에러가 발생한다.</p><h2 id=pattern-matching-for-instanceofhttpsopenjdkorgjeps394><a href=https://openjdk.org/jeps/394>Pattern matching for instanceof</a><a hidden class=anchor aria-hidden=true href=#pattern-matching-for-instanceofhttpsopenjdkorgjeps394>#</a></h2><p>클래스의 타입을 확인하기 위해서 자바는 <code>instanceof</code> 키워드를 제공해준다. 대부분 타입을 확인한 후, 그 타입인 경우 타입 변환을 해서 사용하는데, 다음과 같은 예제를 쉽게 볼 수 있을 것이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>old_style</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Object</span> <span class=n>objectPoint</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PointClass</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>objectPoint</span> <span class=k>instanceof</span> <span class=n>PointClass</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>PointClass</span> <span class=n>pointClass</span> <span class=o>=</span> <span class=o>(</span><span class=n>PointClass</span><span class=o>)</span> <span class=n>objectPoint</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;x=&#34;</span> <span class=o>+</span> <span class=n>pointClass</span><span class=o>.</span><span class=na>getX</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;, &#34;</span> <span class=o>+</span> <span class=s>&#34;y=&#34;</span> <span class=o>+</span> <span class=n>pointClass</span><span class=o>.</span><span class=na>getY</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><code>objectPoint</code> 의 타입이 PointClass라면, <code>pointClass</code> 변수에 형변환을 하여 사용할 수 있다.</p><p>Java 17에서는 형변환을 따로 변수 선언해서 하는 것을 한 번에 할 수 있도록 편의성을 제공해준다. 위와 같은 동작을 하는 로직을 아래와 같이 더욱 간단하게 구현할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Object</span> <span class=n>objectPoint</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PointClass</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>objectPoint</span> <span class=k>instanceof</span> <span class=n>PointClass</span> <span class=n>pointClass</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;x=&#34;</span> <span class=o>+</span> <span class=n>pointClass</span><span class=o>.</span><span class=na>getX</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;, &#34;</span> <span class=o>+</span> <span class=s>&#34;y=&#34;</span> <span class=o>+</span> <span class=n>pointClass</span><span class=o>.</span><span class=na>getY</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><code>instanceof</code> 키워드를 사용하는 절 내부에 바로 클래스 타입과 변수를 선언하여 이를 바로 if 문 내에 사용할 수 있도록 하였다.</p><p>컴파일 시간에 타입에 대해 확신을 준다면, <code>instanceof</code> 키워드에 선언한 변수를 로컬 변수처럼 사용할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>new_style_local_variable</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Object</span> <span class=n>objectPoint</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PointClass</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(!(</span><span class=n>objectPoint</span> <span class=k>instanceof</span> <span class=n>PointClass</span> <span class=n>pointClass</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=n>IllegalStateException</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;x=&#34;</span> <span class=o>+</span> <span class=n>pointClass</span><span class=o>.</span><span class=na>getX</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;, &#34;</span> <span class=o>+</span> <span class=s>&#34;y=&#34;</span> <span class=o>+</span> <span class=n>pointClass</span><span class=o>.</span><span class=na>getY</span><span class=o>());</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>PointClass 타입이 아닌 경우, 예외를 발생시켜 메서드 밖으로 나가도록 하였다. 이 예외가 발생하지 않았다면 <code>objectPoint</code> 는 클래스 타입이 PointClass로 확신할 수 있으므로, 위와 같이 로컬 변수로 바로 사용할 수 있도록 해준다.</p><h2 id=helpful-nullpointerexceptionshttpsopenjdkorgjeps358><a href=https://openjdk.org/jeps/358>Helpful NullPointerExceptions</a><a hidden class=anchor aria-hidden=true href=#helpful-nullpointerexceptionshttpsopenjdkorgjeps358>#</a></h2><p>NullPointerException이 발생한 변수가 어떤 변수인지 정확하게 에러 메시지에 표시해준다.</p><p>아래 코드는 NullPointerException을 강제로 만든 예제이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>throw_NullPointerException</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>PointClass</span><span class=o>&gt;</span> <span class=n>points</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=n>points</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;p1&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>PointClass</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>points</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;p2&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>PointClass</span><span class=o>(</span><span class=mi>1</span><span class=o>,</span> <span class=mi>1</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>points</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;p3&#34;</span><span class=o>,</span> <span class=kc>null</span><span class=o>);</span>  <span class=c1>// 강제 NullPointerException 만들기
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=n>Map</span><span class=o>.</span><span class=na>Entry</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>PointClass</span><span class=o>&gt;</span> <span class=n>entry</span> <span class=o>:</span> <span class=n>points</span><span class=o>.</span><span class=na>entrySet</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>entry</span><span class=o>.</span><span class=na>getKey</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;: &#34;</span> <span class=o>+</span> <span class=s>&#34;x=&#34;</span> <span class=o>+</span> <span class=n>entry</span><span class=o>.</span><span class=na>getValue</span><span class=o>().</span><span class=na>getX</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;y=&#34;</span> <span class=o>+</span> <span class=n>entry</span><span class=o>.</span><span class=na>getValue</span><span class=o>().</span><span class=na>getY</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>위 예제를 먼저 Java 11 버전에서 동작시켜보자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nl>p1:</span> <span class=n>x</span><span class=o>=</span><span class=mi>0</span><span class=n>y</span><span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=nl>p2:</span> <span class=n>x</span><span class=o>=</span><span class=mi>1</span><span class=n>y</span><span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>NullPointerException</span>
</span></span><span class=line><span class=cl>	<span class=n>at</span> <span class=n>me</span><span class=o>.</span><span class=na>parker</span><span class=o>.</span><span class=na>NullPointerExceptionTest</span><span class=o>.</span><span class=na>throw_NullPointerException</span><span class=o>(</span><span class=n>UrlTest</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=mi>47</span><span class=o>)</span>
</span></span><span class=line><span class=cl>	<span class=n>at</span> <span class=n>java</span><span class=o>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=o>.</span><span class=na>util</span><span class=o>.</span><span class=na>ArrayList</span><span class=o>.</span><span class=na>forEach</span><span class=o>(</span><span class=n>ArrayList</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=mi>1541</span><span class=o>)</span>
</span></span><span class=line><span class=cl>	<span class=n>at</span> <span class=n>java</span><span class=o>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=o>.</span><span class=na>util</span><span class=o>.</span><span class=na>ArrayList</span><span class=o>.</span><span class=na>forEach</span><span class=o>(</span><span class=n>ArrayList</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=mi>1541</span><span class=o>)</span>
</span></span></code></pre></div><p>Java 11에서는 단순히 NullPointerExceptiond이 발생한 라인 정보만 있다. 위 예제에서도 해당 라인에 여러 개의 접근 메서드가 있는데, 이런 경우 정확히 어디서 NullPointerException이 발생했는지 쉽게 알 수 없다.</p><p>Java 17에서 위 테스트 코드를 동작시켜보자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nl>p1:</span> <span class=n>x</span><span class=o>=</span><span class=mi>0</span><span class=n>y</span><span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=nl>p2:</span> <span class=n>x</span><span class=o>=</span><span class=mi>1</span><span class=n>y</span><span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>NullPointerException</span><span class=o>:</span> <span class=n>Cannot</span> <span class=n>invoke</span> <span class=s>&#34;me.parker.records.PointClass.getX()&#34;</span> <span class=n>because</span> <span class=n>the</span> <span class=k>return</span> <span class=n>value</span> <span class=n>of</span> <span class=s>&#34;java.util.Map$Entry.getValue()&#34;</span> <span class=n>is</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>at</span> <span class=n>me</span><span class=o>.</span><span class=na>parker</span><span class=o>.</span><span class=na>NullPointerExceptionTest</span><span class=o>.</span><span class=na>throw_NullPointerException</span><span class=o>(</span><span class=n>NullPointerExceptionTest</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=mi>19</span><span class=o>)</span>
</span></span><span class=line><span class=cl>	<span class=n>at</span> <span class=n>java</span><span class=o>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=o>.</span><span class=na>util</span><span class=o>.</span><span class=na>ArrayList</span><span class=o>.</span><span class=na>forEach</span><span class=o>(</span><span class=n>ArrayList</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=mi>1511</span><span class=o>)</span>
</span></span><span class=line><span class=cl>	<span class=n>at</span> <span class=n>java</span><span class=o>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=o>.</span><span class=na>util</span><span class=o>.</span><span class=na>ArrayList</span><span class=o>.</span><span class=na>forEach</span><span class=o>(</span><span class=n>ArrayList</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=mi>1511</span><span class=o>)</span>
</span></span></code></pre></div><p>위 메시지를 보면 <code>java.util.Map$Entry.getValue()</code> 결과가 null 이라서, <code>me.parker.records.PointClass.getX()</code> 메서드를 호출할 수 없다고 정확하게 알려준다.</p><h2 id=기타>기타<a hidden class=anchor aria-hidden=true href=#기타>#</a></h2><h3 id=compact-number-formatting-support>Compact Number Formatting Support<a hidden class=anchor aria-hidden=true href=#compact-number-formatting-support>#</a></h3><p><code>NumberFormat</code> 객체를 제공해주는데, 이는 사람이 읽기 좋은 숫자 표현으로 변환해준다. (유니코드 기반)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>english_short</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>NumberFormat</span> <span class=n>fmt</span> <span class=o>=</span> <span class=n>NumberFormat</span><span class=o>.</span><span class=na>getCompactNumberInstance</span><span class=o>(</span>
</span></span><span class=line><span class=cl>              <span class=n>Locale</span><span class=o>.</span><span class=na>ENGLISH</span><span class=o>,</span> <span class=n>NumberFormat</span><span class=o>.</span><span class=na>Style</span><span class=o>.</span><span class=na>SHORT</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>10</span><span class=o>));</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>1000</span><span class=o>));</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>100000</span><span class=o>));</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>1000000</span><span class=o>));</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=n>K</span>
</span></span><span class=line><span class=cl><span class=mi>100</span><span class=n>K</span>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=n>M</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>english_long</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>NumberFormat</span> <span class=n>fmt</span> <span class=o>=</span> <span class=n>NumberFormat</span><span class=o>.</span><span class=na>getCompactNumberInstance</span><span class=o>(</span>
</span></span><span class=line><span class=cl>              <span class=n>Locale</span><span class=o>.</span><span class=na>ENGLISH</span><span class=o>,</span> <span class=n>NumberFormat</span><span class=o>.</span><span class=na>Style</span><span class=o>.</span><span class=na>LONG</span><span class=o>);</span>
</span></span><span class=line><span class=cl>			<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>10</span><span class=o>));</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>1000</span><span class=o>));</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>100000</span><span class=o>));</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>1000000</span><span class=o>));</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=mi>1</span> <span class=n>thousand</span>
</span></span><span class=line><span class=cl><span class=mi>100</span> <span class=n>thousand</span>
</span></span><span class=line><span class=cl><span class=mi>1</span> <span class=n>million</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>korean_long</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>NumberFormat</span> <span class=n>fmt</span> <span class=o>=</span> <span class=n>NumberFormat</span><span class=o>.</span><span class=na>getCompactNumberInstance</span><span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>Locale</span><span class=o>.</span><span class=na>KOREAN</span><span class=o>,</span> <span class=n>NumberFormat</span><span class=o>.</span><span class=na>Style</span><span class=o>.</span><span class=na>LONG</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>10</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>1000</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>100000</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>fmt</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=mi>1000000</span><span class=o>));</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=err>천</span>
</span></span><span class=line><span class=cl><span class=mi>10</span><span class=err>만</span>
</span></span><span class=line><span class=cl><span class=mi>100</span><span class=err>만</span>
</span></span></code></pre></div><h3 id=day-period-support-added>Day Period Support Added<a hidden class=anchor aria-hidden=true href=#day-period-support-added>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>english</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>DateTimeFormatter</span> <span class=n>dtf</span> <span class=o>=</span> <span class=n>DateTimeFormatter</span><span class=o>.</span><span class=na>ofPattern</span><span class=o>(</span><span class=s>&#34;B&#34;</span><span class=o>).</span><span class=na>withLocale</span><span class=o>(</span><span class=n>Locale</span><span class=o>.</span><span class=na>forLanguageTag</span><span class=o>(</span><span class=s>&#34;EN&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>8</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>13</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>20</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>23</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>in</span> <span class=n>the</span> <span class=n>morning</span>
</span></span><span class=line><span class=cl><span class=n>in</span> <span class=n>the</span> <span class=n>afternoon</span>
</span></span><span class=line><span class=cl><span class=n>in</span> <span class=n>the</span> <span class=n>evening</span>
</span></span><span class=line><span class=cl><span class=n>at</span> <span class=n>night</span>
</span></span><span class=line><span class=cl><span class=n>midnight</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>english</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>DateTimeFormatter</span> <span class=n>dtf</span> <span class=o>=</span> <span class=n>DateTimeFormatter</span><span class=o>.</span><span class=na>ofPattern</span><span class=o>(</span><span class=s>&#34;B&#34;</span><span class=o>).</span><span class=na>withLocale</span><span class=o>(</span><span class=n>Locale</span><span class=o>.</span><span class=na>forLanguageTag</span><span class=o>(</span><span class=s>&#34;KO&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>8</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>13</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>20</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>23</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>dtf</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>LocalTime</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>)));</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=err>오전</span>
</span></span><span class=line><span class=cl><span class=err>오후</span>
</span></span><span class=line><span class=cl><span class=err>저녁</span>
</span></span><span class=line><span class=cl><span class=err>밤</span>
</span></span><span class=line><span class=cl><span class=err>자정</span>
</span></span></code></pre></div><h2 id=참고자료>참고자료<a hidden class=anchor aria-hidden=true href=#참고자료>#</a></h2><p><a href=https://openjdk.org/projects/jdk/17/jeps-since-jdk-11>JEPs in JDK 17 integrated since JDK 11</a></p><p><a href=https://dzone.com/articles/whats-new-between-java-11-and-java-17>What&rsquo;s New Between Java 11 and Java 17? - DZone</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://parker1609.github.io/tags/java11-java17/>java11, java17</a></li></ul><nav class=paginav><a class=prev href=https://parker1609.github.io/post/java-web-history/><span class=title>« Prev</span><br><span>자바 웹 기술 역사</span></a>
<a class=next href=https://parker1609.github.io/post/creating-my-blog-with-hugo/><span class=title>Next »</span><br><span>Hugo 블로그 생성 과정 (theme PaperMod)</span></a></nav></footer><div id=giscus_thread><script src=https://giscus.app/client.js data-repo=parker1609/parker1609.github.io data-repo-id=R_kgDOI_VMsw data-category=Announcements data-category-id=DIC_kwDOI_VMs84CUTZR data-mapping=og:title data-strict=1 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=ko data-loading=lazy crossorigin=anonymous async></script></div></article></main><footer class=footer><span>&copy; 2023 <a href=https://parker1609.github.io/>Parker Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>